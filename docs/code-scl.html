<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Code</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">NMA fungicide effects on white mold</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa fa fa-home"></span>
     
    About
  </a>
</li>
<li>
  <a href="data.html">
    <span class="fa fa fa fa-table"></span>
     
    Data
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa fa fa-file-code-o"></span>
     
    Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="code-inc.html">Incidence reduction</a>
    </li>
    <li>
      <a href="code-scl.html">Sclerotia reduction</a>
    </li>
    <li>
      <a href="code-yld.html">Yield response</a>
    </li>
  </ul>
</li>
<li>
  <a href="plots.html">
    <span class="fa fa-bar-chart"></span>
     
    Plots
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/emdelponte/research-compendium-website">
    <span class="fa fa-github-square"></span>
     
    source
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Code</h1>

</div>


<div id="network-model" class="section level1">
<h1>Network model</h1>
<p>Let’s fit an arm-based model using the <code>rma.mv</code> function of metafor to get the estimates for each treatment.</p>
<pre class="r"><code>library(tidyverse)
wm_scl &lt;- read.csv(&quot;data/dat-scl.csv&quot;, h = T, sep = &quot;,&quot;)


# create the log of the inc variable
wm_scl &lt;- wm_scl %&gt;%
  mutate(log_scl = log(mean_scl))

# create the sampling variance for the log of inc
wm_scl$vi &lt;- with(wm_scl, (mean_scl_sd^2) / (4 * mean_scl^2))</code></pre>
<p>Now we will fit models with CS, HCS and UN matrix-covariance structure. We will then compare them with the Anova to choose among the best model.</p>
<pre class="r"><code>library(metafor)


mv_scl_HCS &lt;- rma.mv(log_scl, vi,
  mods = ~fungicide2,
  random = list(~fungicide2 | study),
  struct = &quot;HCS&quot;,
  method = &quot;ML&quot;,
  data = wm_scl
)

mv_scl &lt;- rma.mv(log_scl, vi,
  mods = ~fungicide2,
  random = list(~fungicide2 | study),
  struct = &quot;UN&quot;,
  method = &quot;ML&quot;,
  control = list(optimizer = &quot;nlm&quot;),
  data = wm_scl
)

mv_scl</code></pre>
<pre><code>## 
## Multivariate Meta-Analysis Model (k = 350; method: ML)
## 
## Variance Components: 
## 
## outer factor: study      (nlvls = 58)
## inner factor: fungicide2 (nlvls = 7)
## 
##             estim    sqrt  k.lvl  fixed         level
## tau^2.1    1.5034  1.2261     58     no     AACHECK-0
## tau^2.2    1.9289  1.3888     22     no  CARB+PROCY-2
## tau^2.3    1.8888  1.3743     54     no   DIMO+BOSC-2
## tau^2.4    1.9700  1.4036     54     no        FLUO-2
## tau^2.5    2.0687  1.4383     56     no        FLUZ-2
## tau^2.6    1.8216  1.3497     58     no       PROCY-2
## tau^2.7    1.9548  1.3981     48     no        TIOF-4
## 
##               rho.AACH  rho.CARB  rho.DIMO  rho.FLUO  rho.FLUZ  rho.PROC
## AACHECK-0            1    0.5567    0.8035    0.8874    0.8415    0.7634
## CARB+PROCY-2    0.5567         1    0.8038    0.5738    0.6667    0.9199
## DIMO+BOSC-2     0.8035    0.8038         1    0.8709    0.8603    0.9158
## FLUO-2          0.8874    0.5738    0.8709         1    0.8956    0.8210
## FLUZ-2          0.8415    0.6667    0.8603    0.8956         1    0.8867
## PROCY-2         0.7634    0.9199    0.9158    0.8210    0.8867         1
## TIOF-4          0.9465    0.5952    0.7783    0.9120    0.9112    0.8032
##               rho.TIOF    AACH  CARB  DIMO  FLUO  FLUZ  PROC  TIOF
## AACHECK-0       0.9465       -    no    no    no    no    no    no
## CARB+PROCY-2    0.5952      22     -    no    no    no    no    no
## DIMO+BOSC-2     0.7783      54    21     -    no    no    no    no
## FLUO-2          0.9120      54    21    53     -    no    no    no
## FLUZ-2          0.9112      56    21    52    53     -    no    no
## PROCY-2         0.8032      58    22    54    54    56     -    no
## TIOF-4               1      48    22    44    45    47    48     -
## 
## Test for Residual Heterogeneity: 
## QE(df = 343) = 24053.9431, p-val &lt; .0001
## 
## Test of Moderators (coefficient(s) 2:7): 
## QM(df = 6) = 422.3478, p-val &lt; .0001
## 
## Model Results:
## 
##                         estimate      se      zval    pval    ci.lb
## intrcpt                   7.8759  0.1633   48.2434  &lt;.0001   7.5559
## fungicide2CARB+PROCY-2   -2.0962  0.1959  -10.6994  &lt;.0001  -2.4802
## fungicide2DIMO+BOSC-2    -1.9491  0.1219  -15.9833  &lt;.0001  -2.1881
## fungicide2FLUO-2         -1.7919  0.1015  -17.6527  &lt;.0001  -1.9908
## fungicide2FLUZ-2         -1.4338  0.1143  -12.5448  &lt;.0001  -1.6578
## fungicide2PROCY-2        -1.5215  0.1278  -11.9009  &lt;.0001  -1.7721
## fungicide2TIOF-4         -0.7249  0.0770   -9.4178  &lt;.0001  -0.8758
##                           ci.ub     
## intrcpt                  8.1959  ***
## fungicide2CARB+PROCY-2  -1.7122  ***
## fungicide2DIMO+BOSC-2   -1.7101  ***
## fungicide2FLUO-2        -1.5929  ***
## fungicide2FLUZ-2        -1.2098  ***
## fungicide2PROCY-2       -1.2709  ***
## fungicide2TIOF-4        -0.5740  ***
## 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>We can see below that the UN structure is a better model.</p>
<pre class="r"><code>anova(mv_scl_HCS, mv_scl)</code></pre>
<pre><code>##         df      AIC      BIC     AICc    logLik     LRT   pval         QE
## Full    35 848.6855 983.7132 856.7110 -389.3428                24053.9431
## Reduced 15 879.0230 936.8920 880.4601 -424.5115 70.3375 &lt;.0001 24053.9431</code></pre>
<pre class="r"><code>AIC(mv_scl_HCS)</code></pre>
<pre><code>## [1] 879.023</code></pre>
<p>Let’s back-transform (exponential) the estimated mean (and respective 95%CIs) difference of the logs to obtain the response ratio, which is further expressed as percent reduction in sclerotia mass relative to the check treatment (control efficacy) for each fungicide.</p>
<pre class="r"><code>efficacy_scl &lt;- data.frame(cbind(
  (1 - exp(mv_scl$b)) * 100,
  (1 - exp(mv_scl$ci.lb)) * 100,
  (1 - exp(mv_scl$ci.ub)) * 100
))
efficacy_scl</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["X1"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["X2"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["X3"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"-263208.63623","2":"-191106.77393","3":"-362499.27662","_rn_":"intrcpt"},{"1":"87.70793","2":"91.62743","3":"81.95356","_rn_":"fungicide2CARB+PROCY-2"},{"1":"85.75998","2":"88.78733","3":"81.91525","_rn_":"fungicide2DIMO+BOSC-2"},{"1":"83.33522","2":"86.34169","3":"79.66696","_rn_":"fungicide2FLUO-2"},{"1":"76.15912","2":"80.94376","3":"70.17315","_rn_":"fungicide2FLUZ-2"},{"1":"78.16212","2":"83.00250","3":"71.94334","_rn_":"fungicide2PROCY-2"},{"1":"51.56290","2":"58.34570","3":"43.67563","_rn_":"fungicide2TIOF-4"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We can set linear contrasts between treatments of interest and get the P-valued using the <code>anova</code> function.</p>
<pre class="r"><code>anova(mv_scl, L = rbind(
  c(0, 1, -1, 0, 0, 0, 0),
  c(0, 1, 0, -1, 0, 0, 0),
  c(0, 1, 0, 0, -1, 0, 0),
  c(0, 1, 0, 0, 0, -1, 0),
  c(0, 1, 0, 0, 0, 0, -1),
  c(0, 0, 1, -1, 0, 0, 0),
  c(0, 0, 1, 0, -1, 0, 0),
  c(0, 0, 1, 0, 0, -1, 0),
  c(0, 0, 1, 0, 0, 0, -1),
  c(0, 0, 0, 1, -1, 0, 0),
  c(0, 0, 0, 1, 0, -1, 0),
  c(0, 0, 0, 1, 0, 0, -1),
  c(0, 0, 0, 0, 1, -1, 0),
  c(0, 0, 0, 0, 1, 0, -1),
  c(0, 0, 0, 0, 0, 1, -1)
))</code></pre>
<pre><code>## 
## Hypotheses:                                                      
## 1:  fungicide2CARB+PROCY-2 - fungicide2DIMO+BOSC-2 = 0
## 2:       fungicide2CARB+PROCY-2 - fungicide2FLUO-2 = 0
## 3:       fungicide2CARB+PROCY-2 - fungicide2FLUZ-2 = 0
## 4:      fungicide2CARB+PROCY-2 - fungicide2PROCY-2 = 0
## 5:       fungicide2CARB+PROCY-2 - fungicide2TIOF-4 = 0
## 6:        fungicide2DIMO+BOSC-2 - fungicide2FLUO-2 = 0
## 7:        fungicide2DIMO+BOSC-2 - fungicide2FLUZ-2 = 0
## 8:       fungicide2DIMO+BOSC-2 - fungicide2PROCY-2 = 0
## 9:        fungicide2DIMO+BOSC-2 - fungicide2TIOF-4 = 0
## 10:            fungicide2FLUO-2 - fungicide2FLUZ-2 = 0
## 11:           fungicide2FLUO-2 - fungicide2PROCY-2 = 0
## 12:            fungicide2FLUO-2 - fungicide2TIOF-4 = 0
## 13:           fungicide2FLUZ-2 - fungicide2PROCY-2 = 0
## 14:            fungicide2FLUZ-2 - fungicide2TIOF-4 = 0
## 15:           fungicide2PROCY-2 - fungicide2TIOF-4 = 0
## 
## Results:
##     estimate     se     zval   pval
## 1:   -0.1471 0.1598  -0.9203 0.3574
## 2:   -0.3043 0.2065  -1.4737 0.1406
## 3:   -0.6624 0.1907  -3.4729 0.0005
## 4:   -0.5747 0.1302  -4.4125 &lt;.0001
## 5:   -1.3713 0.1984  -6.9115 &lt;.0001
## 6:   -0.1572 0.1128  -1.3935 0.1635
## 7:   -0.5153 0.1172  -4.3970 &lt;.0001
## 8:   -0.4276 0.0960  -4.4548 &lt;.0001
## 9:   -1.2242 0.1381  -8.8666 &lt;.0001
## 10:  -0.3581 0.1067  -3.3572 0.0008
## 11:  -0.2703 0.1258  -2.1482 0.0317
## 12:  -1.0670 0.0988 -10.8040 &lt;.0001
## 13:   0.0878 0.1058   0.8293 0.4069
## 14:  -0.7089 0.0971  -7.2968 &lt;.0001
## 15:  -0.7966 0.1281  -6.2206 &lt;.0001</code></pre>
<div id="inconsistency" class="section level2">
<h2>Inconsistency</h2>
<p>In a network meta-analysis, it is important to check whether the results are consistent across the different designs. We included this variable manually in the original dataset and tested the interaction effect of treatments and design group.</p>
<pre class="r"><code>mv_scl_incon &lt;- rma.mv(log_scl, vi,
  mods = ~fungicide2 * design_scl,
  random = list(~factor(study) | design_scl / fungicide2),
  struct = &quot;UN&quot;,
  method = &quot;ML&quot;,
  control = list(optimizer = &quot;nlm&quot;),
  data = wm_scl
)

anova(mv_scl_incon, btt = 9:14)</code></pre>
<pre><code>## 
## Test of Moderators (coefficient(s) 9:14): 
## QM(df = 6) = 29.2667, p-val &lt; .0001</code></pre>
<pre class="r"><code>anova(mv_scl, mv_scl_incon)</code></pre>
<pre><code>##         df      AIC      BIC     AICc    logLik     LRT   pval         QE
## Full    35 848.6855 983.7132 856.7110 -389.3428                24053.9431
## Reduced 17 849.3971 914.9819 851.2404 -407.6985 36.7115 0.0057 18332.2549</code></pre>
</div>
<div id="network-graph" class="section level2">
<h2>Network Graph</h2>
<p>First we will rename the treatments with the number of trials (within parenthesis) that each treatment was present.</p>
<pre class="r"><code>library(readr)
library(tidyverse)

wm_scl &lt;- read_csv(&quot;data/dat-scl.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   study = col_double(),
##   year = col_character(),
##   location = col_character(),
##   state = col_character(),
##   elevation = col_double(),
##   region = col_character(),
##   fungicide2 = col_character(),
##   inc_check = col_double(),
##   scl_check = col_double(),
##   design_scl = col_double(),
##   mean_scl = col_double(),
##   mean_scl_qmr = col_double(),
##   mean_scl_sd = col_double()
## )</code></pre>
<pre class="r"><code>library(plyr)</code></pre>
<pre><code>## -------------------------------------------------------------------------</code></pre>
<pre><code>## You have loaded plyr after dplyr - this is likely to cause problems.
## If you need functions from both plyr and dplyr, please load plyr first, then dplyr:
## library(plyr); library(dplyr)</code></pre>
<pre><code>## -------------------------------------------------------------------------</code></pre>
<pre><code>## 
## Attaching package: &#39;plyr&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:maps&#39;:
## 
##     ozone</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     compact</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     arrange, count, desc, failwith, id, mutate, rename, summarise,
##     summarize</code></pre>
<pre class="r"><code>wm_scl$fungicide2 &lt;- revalue(wm_scl$fungicide2, c(&quot;AACHECK-0&quot; = &quot;CHECK (58)&quot;))
wm_scl$fungicide2 &lt;- revalue(wm_scl$fungicide2, c(&quot;DIMO+BOSC-2&quot; = &quot;DIMO+BOSC (54)&quot;))
wm_scl$fungicide2 &lt;- revalue(wm_scl$fungicide2, c(&quot;FLUO-2&quot; = &quot;FLUO (54)&quot;))
wm_scl$fungicide2 &lt;- revalue(wm_scl$fungicide2, c(&quot;FLUZ-2&quot; = &quot;FLUZ (56)&quot;))
wm_scl$fungicide2 &lt;- revalue(wm_scl$fungicide2, c(&quot;PROCY-2&quot; = &quot;PROC (58)&quot;))
wm_scl$fungicide2 &lt;- revalue(wm_scl$fungicide2, c(&quot;TIOF-4&quot; = &quot;TIOF (48)&quot;))
wm_scl$fungicide2 &lt;- revalue(wm_scl$fungicide2, c(&quot;CARB+PROCY-2&quot; = &quot;CARB+PROC (22)&quot;))
detach(&quot;package:plyr&quot;, unload = TRUE)</code></pre>
<p>We need to prepare the data to get the network graph. Thus, we used the package <code>netmeta</code> with the function <code>pairwise</code> to calculate the contrasts.</p>
<pre class="r"><code>library(netmeta)
pair_scl &lt;- pairwise(
  treat = fungicide2,
  n = 4,
  mean = mean_scl,
  sd = mean_scl_sd,
  studlab = study,
  data = wm_scl,
  sm = &quot;ROM&quot;
)</code></pre>
<pre class="r"><code>net_scl &lt;- netmeta(TE, seTE, treat1, treat2, studlab, data = pair_scl, sm = &quot;ROM&quot;, backtransf = TRUE)
summary(net_scl)</code></pre>
<pre><code>## Number of studies: k = 58
## Number of treatments: n = 7
## Number of pairwise comparisons: m = 905
## Number of designs: d = 8
## 
## Fixed effect model
## 
## Treatment estimate (sm = &#39;ROM&#39;):
##                CARB+PROC (22) CHECK (58) DIMO+BOSC (54) FLUO (54)
## CARB+PROC (22)              .     0.1807         0.8729    0.7923
## CHECK (58)             5.5343          .         4.8311    4.3849
## DIMO+BOSC (54)         1.1455     0.2070              .    0.9076
## FLUO (54)              1.2621     0.2281         1.1018         .
## FLUZ (56)              1.7106     0.3091         1.4933    1.3554
## PROC (58)              1.5225     0.2751         1.3290    1.2063
## TIOF (48)              3.0523     0.5515         2.6645    2.4183
##                FLUZ (56) PROC (58) TIOF (48)
## CARB+PROC (22)    0.5846    0.6568    0.3276
## CHECK (58)        3.2352    3.6350    1.8132
## DIMO+BOSC (54)    0.6697    0.7524    0.3753
## FLUO (54)         0.7378    0.8290    0.4135
## FLUZ (56)              .    1.1236    0.5605
## PROC (58)         0.8900         .    0.4988
## TIOF (48)         1.7843    2.0048         .
## 
## Lower 95%-confidence limit:
##                CARB+PROC (22) CHECK (58) DIMO+BOSC (54) FLUO (54)
## CARB+PROC (22)              .     0.1642         0.7861    0.7120
## CHECK (58)             5.0283          .         4.5684    4.1345
## DIMO+BOSC (54)         1.0316     0.1957              .    0.8464
## FLUO (54)              1.1343     0.2150         1.0274         .
## FLUZ (56)              1.5366     0.2905         1.3863    1.2588
## PROC (58)              1.3726     0.2614         1.2439    1.1305
## TIOF (48)              2.7621     0.5282         2.5032    2.2670
##                FLUZ (56) PROC (58) TIOF (48)
## CARB+PROC (22)    0.5251    0.5921    0.2965
## CHECK (58)        3.0403    3.4540    1.7365
## DIMO+BOSC (54)    0.6217    0.7042    0.3526
## FLUO (54)         0.6853    0.7769    0.3876
## FLUZ (56)              .    1.0469    0.5243
## PROC (58)         0.8293         .    0.4701
## TIOF (48)         1.6690    1.8894         .
## 
## Upper 95%-confidence limit:
##                CARB+PROC (22) CHECK (58) DIMO+BOSC (54) FLUO (54)
## CARB+PROC (22)              .     0.1989         0.9694    0.8816
## CHECK (58)             6.0911          .         5.1090    4.6504
## DIMO+BOSC (54)         1.2721     0.2189              .    0.9733
## FLUO (54)              1.4044     0.2419         1.1815         .
## FLUZ (56)              1.9044     0.3289         1.6085    1.4593
## PROC (58)              1.6888     0.2895         1.4200    1.2871
## TIOF (48)              3.3729     0.5759         2.8361    2.5797
##                FLUZ (56) PROC (58) TIOF (48)
## CARB+PROC (22)    0.6508    0.7286    0.3620
## CHECK (58)        3.4427    3.8256    1.8933
## DIMO+BOSC (54)    0.7213    0.8039    0.3995
## FLUO (54)         0.7944    0.8845    0.4411
## FLUZ (56)              .    1.2059    0.5992
## PROC (58)         0.9552         .    0.5293
## TIOF (48)         1.9075    2.1273         .
## 
## Random effects model
## 
## Treatment estimate (sm = &#39;ROM&#39;):
##                CARB+PROC (22) CHECK (58) DIMO+BOSC (54) FLUO (54)
## CARB+PROC (22)              .     0.1907         1.2357    1.1487
## CHECK (58)             5.2445          .         6.4806    6.0244
## DIMO+BOSC (54)         0.8093     0.1543              .    0.9296
## FLUO (54)              0.8706     0.1660         1.0757         .
## FLUZ (56)              1.2986     0.2476         1.6047    1.4917
## PROC (58)              1.2223     0.2331         1.5103    1.4040
## TIOF (48)              2.6520     0.5057         3.2770    3.0463
##                FLUZ (56) PROC (58) TIOF (48)
## CARB+PROC (22)    0.7700    0.8181    0.3771
## CHECK (58)        4.0385    4.2908    1.9776
## DIMO+BOSC (54)    0.6232    0.6621    0.3052
## FLUO (54)         0.6704    0.7122    0.3283
## FLUZ (56)              .    1.0625    0.4897
## PROC (58)         0.9412         .    0.4609
## TIOF (48)         2.0421    2.1697         .
## 
## Lower 95%-confidence limit:
##                CARB+PROC (22) CHECK (58) DIMO+BOSC (54) FLUO (54)
## CARB+PROC (22)              .     0.1449         0.9287    0.8637
## CHECK (58)             3.9844          .         5.3830    5.0050
## DIMO+BOSC (54)         0.6082     0.1282              .    0.7620
## FLUO (54)              0.6546     0.1379         0.8818         .
## FLUZ (56)              0.9788     0.2067         1.3192    1.2273
## PROC (58)              0.9198     0.1943         1.2408    1.1537
## TIOF (48)              1.9976     0.4202         2.6817    2.4948
##                FLUZ (56) PROC (58) TIOF (48)
## CARB+PROC (22)    0.5804    0.6157    0.2840
## CHECK (58)        3.3717    3.5767    1.6435
## DIMO+BOSC (54)    0.5123    0.5440    0.2497
## FLUO (54)         0.5515    0.5853    0.2688
## FLUZ (56)              .    0.8764    0.4028
## PROC (58)         0.7764         .    0.3783
## TIOF (48)         1.6798    1.7810         .
## 
## Upper 95%-confidence limit:
##                CARB+PROC (22) CHECK (58) DIMO+BOSC (54) FLUO (54)
## CARB+PROC (22)              .     0.2510         1.6442    1.5277
## CHECK (58)             6.9033          .         7.8019    7.2513
## DIMO+BOSC (54)         1.0768     0.1858              .    1.1341
## FLUO (54)              1.1578     0.1998         1.3123         .
## FLUZ (56)              1.7230     0.2966         1.9519    1.8131
## PROC (58)              1.6242     0.2796         1.8384    1.7086
## TIOF (48)              3.5208     0.6085         4.0046    3.7198
##                FLUZ (56) PROC (58) TIOF (48)
## CARB+PROC (22)    1.0217    1.0872    0.5006
## CHECK (58)        4.8372    5.1474    2.3796
## DIMO+BOSC (54)    0.7580    0.8059    0.3729
## FLUO (54)         0.8148    0.8668    0.4008
## FLUZ (56)              .    1.2880    0.5953
## PROC (58)         1.1410         .    0.5615
## TIOF (48)         2.4827    2.6433         .
## 
## Quantifying heterogeneity / inconsistency:
## tau^2 = 0.3424; I^2 = 86.4%
## 
## Tests of heterogeneity (within designs) and inconsistency (between designs):
##                       Q d.f.  p-value
## Total           2107.45  286 &lt; 0.0001
## Within designs  1845.93  259 &lt; 0.0001
## Between designs  261.53   27 &lt; 0.0001</code></pre>
<p>A network graph is composed of nodes (fungicide treatments) and edges or links between two treatments directly compared in a same trial. This graph allows to visualize how the treatments relate to each other and the number of direct comparisons can be depicted by the thickness of the edges, but also with numbers presented at the top of the links.</p>
<pre class="r"><code>netgraph(net_scl,
  plastic = FALSE,
  col = &quot;gray&quot;,
  thickness = &quot;number.of.studies&quot;,
  points = TRUE,
  col.points = &quot;black&quot;,
  cex.points = c(&quot;CARB+PROC (22)&quot; = 2.6, &quot;CHECK (58)&quot; = 6, &quot;DIMO+BOSC (54)&quot; = 5.75, &quot;FLUO (54)&quot; = 5.75, &quot;FLUZ (56)&quot; = 5.75, &quot;PROC (58)&quot; = 6, &quot;TIOF (48)&quot; = 4.86),
  number.of.studies = TRUE,
  cex.number.of.studies = 1.25,
  col.number.of.studies = &quot;black&quot;,
  bg.number.of.studies = &quot;white&quot;,
  multiarm = FALSE,
  col.multiarm = &quot;gray&quot;,
  pos.number.of.studies = 0.60
)</code></pre>
<p><img src="code-scl_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
</div>



Copyright 2017 Emerson Del Ponte


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
